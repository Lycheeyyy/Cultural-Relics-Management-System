"use strict";(self["webpackChunkmanagement_system_new"]=self["webpackChunkmanagement_system_new"]||[]).push([[289],{8289:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});a(4114);var l=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{"margin-bottom":"20px"}},[e("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入文物名称"},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}}),e("el-input",{staticStyle:{width:"240px","margin-left":"5px"},attrs:{placeholder:"请输入文物编码"},model:{value:t.params.noNumber,callback:function(e){t.$set(t.params,"noNumber",e)},expression:"params.noNumber"}}),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.load()}}},[e("i",{staticClass:"el-icon-search"}),t._v(" 搜索 ")]),e("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"warning"},on:{click:function(e){return t.reset()}}},[e("i",{staticClass:"el-icon-refresh"}),t._v(" 重置 ")])],1),e("el-table",{attrs:{data:t.tableData,stripe:"","row-key":"id","default-expand-all":""}},[e("el-table-column",{attrs:{prop:"id",label:"序号"}}),e("el-table-column",{attrs:{prop:"name",label:"文物名称"}}),e("el-table-column",{attrs:{prop:"description",label:"描述",width:"200"}}),e("el-table-column",{attrs:{prop:"dynasty",label:"朝代"}}),e("el-table-column",{attrs:{prop:"address",label:"来源"}}),e("el-table-column",{attrs:{prop:"category",label:"分类"}}),e("el-table-column",{attrs:{prop:"noNumber",label:"编码"}}),e("el-table-column",{attrs:{prop:"state",label:"状态"}}),e("el-table-column",{attrs:{prop:"photo",label:"照片"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{attrs:{src:t.row.photo,"preview-src-list":[t.row.photo]}})]}}])}),e("el-table-column",{attrs:{prop:"createtime",label:"创建时间"}}),e("el-table-column",{attrs:{prop:"updatetime",label:"更新时间"}}),e("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/editAncient?id="+a.row.id)}}},[t._v("编辑")]),e("el-popconfirm",{staticStyle:{"margin-left":"5px"},attrs:{title:"您确定删除这行数据吗?"},on:{confirm:function(e){return t.del(a.row.id)}}},[e("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),e("div",{staticStyle:{"margin-top":"20px"}},[e("el-pagination",{attrs:{background:"","current-page":t.params.pageNum,"page-size":t.params.pageSize,layout:"prev,pager,next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},r=[],n=a(5720),s=a(8704),o={name:"AncientList",data(){return{admin:s.A.get("admin")?JSON.parse(s.A.get("admin")):{},tableData:[],total:0,params:{pageNum:1,pageSize:10,name:"",noNumber:""},rules:{name:[{required:!0,message:"请输入文物名称",trigger:"blur"}]}}},created(){this.load()},methods:{load(){n.A.get("/ancient/page",{params:this.params}).then((t=>{"200"===t.code&&(this.tableData=t.data.list,this.total=t.data.total)}))},reset(){this.params={pageNum:1,pageSize:10,name:"",noNumber:""},this.load()},handleCurrentChange(t){this.params.pageNum=t,this.load()},del(t){n.A.delete("/ancient/delete/"+t).then((t=>{"200"===t.code?(this.$notify.success("删除成功"),this.load()):this.$notify.error(t.msg)}))}}},i=o,p=a(1656),c=(0,p.A)(i,l,r,!1,null,"012ef8b6",null),u=c.exports}}]);
//# sourceMappingURL=289.1dcadc47.js.map