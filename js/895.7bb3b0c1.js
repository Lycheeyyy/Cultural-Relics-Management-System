"use strict";(self["webpackChunkmanagement_system_new"]=self["webpackChunkmanagement_system_new"]||[]).push([[895],{1895:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var s=function(){var e=this,r=e._self._c;return r("div",{staticStyle:{width:"80%"}},[r("h2",{staticStyle:{"margin-bottom":"30px"}},[e._v("新增外借藏品记录")]),r("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"编号",prop:"noNumber"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},on:{change:e.selAncient},model:{value:e.form.noNumber,callback:function(r){e.$set(e.form,"noNumber",r)},expression:"form.noNumber"}},e._l(e.ancients,(function(e){return r("el-option",{key:e.id,attrs:{label:e.noNumber,value:e.noNumber}})})),1)],1),r("el-form-item",{attrs:{label:"名称",prop:"itemName",disabled:""}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入名称"},model:{value:e.form.itemName,callback:function(r){e.$set(e.form,"itemName",r)},expression:"form.itemName"}})],1),r("el-form-item",{attrs:{label:"所属单位",prop:"userAddress"}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入所属单位"},model:{value:e.form.userAddress,callback:function(r){e.$set(e.form,"userAddress",r)},expression:"form.userAddress"}})],1),r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.selUser},model:{value:e.form.userName,callback:function(r){e.$set(e.form,"userName",r)},expression:"form.userName"}},e._l(e.users,(function(e){return r("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:"联系电话",prop:"userPhone"}},[r("el-input",{attrs:{disabled:"",placeholder:"请输入联系电话"},model:{value:e.form.userPhone,callback:function(r){e.$set(e.form,"userPhone",r)},expression:"form.userPhone"}})],1)],1),r("div",{staticStyle:{"text-align":"center","margin-top":"30px"}},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(r){return e.save()}}},[e._v("提交")])],1)],1)},l=[],a=(t(8111),t(116),t(5720)),n={name:"AddBorrow",data(){return{form:{categories:[],phone:""},ancients:[],users:[],categories:[],cascaderProps:{value:"id",label:"name",children:"children",checkStrictly:!0},rules:{userName:[{required:!0,message:"请输入分类名称",trigger:"blur"}],noNumber:[{required:!0,message:"请输入分类名称",trigger:"blur"}]}}},created(){a.A.get("/ancient/list").then((e=>{this.ancients=e.data})),a.A.get("/item/list").then((e=>{this.users=e.data}))},methods:{handleChange(e){console.log(e)},save(){this.$refs["ruleForm"].validate((e=>{e&&a.A.post("/borrow/save",this.form).then((e=>{"200"===e.code?(this.$notify.success("新增成功"),this.$refs["ruleForm"].resetFields()):this.$notify.error(e.msg)}))}))},selAncient(){const e=this.ancients.find((e=>e.noNumber===this.form.noNumber));this.form.itemName=e.name,this.form.userAddress=e.address,this.form.itemNo=e.noNumber},selUser(){const e=this.users.find((e=>e.name===this.form.userName));this.form.userPhone=e.phone}}},o=n,i=t(1656),m=(0,i.A)(o,s,l,!1,null,null,null),u=m.exports}}]);
//# sourceMappingURL=895.7bb3b0c1.js.map