{"version":3,"file":"js/895.7bb3b0c1.js","mappings":"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","sources":["webpack://management-system-new/./src/views/borrow/Add.vue","webpack://management-system-new/src/views/borrow/Add.vue","webpack://management-system-new/./src/views/borrow/Add.vue?b90d","webpack://management-system-new/./src/views/borrow/Add.vue?cb1a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"width\":\"80%\"}},[_c('h2',{staticStyle:{\"margin-bottom\":\"30px\"}},[_vm._v(\"新增外借藏品记录\")]),_c('el-form',{ref:\"ruleForm\",attrs:{\"inline\":true,\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"编号\",\"prop\":\"noNumber\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.selAncient},model:{value:(_vm.form.noNumber),callback:function ($$v) {_vm.$set(_vm.form, \"noNumber\", $$v)},expression:\"form.noNumber\"}},_vm._l((_vm.ancients),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.noNumber,\"value\":item.noNumber}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"itemName\",\"disabled\":\"\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"placeholder\":\"请输入名称\"},model:{value:(_vm.form.itemName),callback:function ($$v) {_vm.$set(_vm.form, \"itemName\", $$v)},expression:\"form.itemName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所属单位\",\"prop\":\"userAddress\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"placeholder\":\"请输入所属单位\"},model:{value:(_vm.form.userAddress),callback:function ($$v) {_vm.$set(_vm.form, \"userAddress\", $$v)},expression:\"form.userAddress\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"userName\"}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.selUser},model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}},_vm._l((_vm.users),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.name}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"userPhone\"}},[_c('el-input',{attrs:{\"disabled\":\"\",\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.form.userPhone),callback:function ($$v) {_vm.$set(_vm.form, \"userPhone\", $$v)},expression:\"form.userPhone\"}})],1)],1),_c('div',{staticStyle:{\"text-align\":\"center\",\"margin-top\":\"30px\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"提交\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div style=\"width:80%\">\r\n        <h2 style=\"margin-bottom:30px\">新增外借藏品记录</h2>\r\n        <el-form :inline=\"true\" :model=\"form\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\r\n\r\n            <el-form-item label=\"编号\" prop=\"noNumber\">\r\n                <el-select v-model=\"form.noNumber\" clearable filterable placeholder=\"请选择\" @change=\"selAncient\">\r\n                    <el-option\r\n                        v-for=\"item in ancients\"\r\n                        :key=\"item.id\"\r\n                        :label=\"item.noNumber\"\r\n                        :value=\"item.noNumber\"\r\n                    ></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"名称\" prop=\"itemName\" disabled>\r\n                <el-input v-model=\"form.itemName\" disabled placeholder=\"请输入名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"所属单位\" prop=\"userAddress\">\r\n                <el-input v-model=\"form.userAddress\" disabled placeholder=\"请输入所属单位\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\" prop=\"userName\">\r\n                <el-select v-model=\"form.userName\" filterable placeholder=\"请选择\" @change=\"selUser\">\r\n                    <el-option\r\n                        v-for=\"item in users\"\r\n                        :key=\"item.name\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.name\"\r\n                    ></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            \r\n            <el-form-item label=\"联系电话\" prop=\"userPhone\">\r\n                <el-input v-model=\"form.userPhone\" disabled placeholder=\"请输入联系电话\"></el-input>\r\n            </el-form-item>\r\n\r\n        </el-form>\r\n\r\n        <div style=\"text-align:center;margin-top:30px\">\r\n            <el-button type=\"primary\" @click=\"save()\" size=\"medium\">提交</el-button>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\"\r\n\r\nexport default {\r\n    name:'AddBorrow',\r\n    data(){\r\n        return{\r\n            form:{\r\n                categories:[],\r\n                phone:'',\r\n            },\r\n            ancients:[],\r\n            users:[],\r\n            categories:[],\r\n                cascaderProps: {\r\n                value: 'id',    // 建议使用id作为value\r\n                label: 'name',   // 显示name字段\r\n                children: 'children',\r\n                checkStrictly: true // 是否可选中任意一级\r\n            },\r\n            rules:{\r\n                userName:[\r\n                    {required:true,message:'请输入分类名称',trigger:'blur'},\r\n                ],\r\n                noNumber:[\r\n                    {required:true,message:'请输入分类名称',trigger:'blur'},\r\n                ]\r\n            }\r\n\r\n        }\r\n    },\r\n    created(){\r\n        request.get('/ancient/list').then(res =>{\r\n            this.ancients = res.data\r\n        })\r\n        request.get('/item/list').then(res =>{\r\n            this.users = res.data\r\n        })\r\n    },\r\n    methods:{\r\n        handleChange(value){\r\n            console.log(value)\r\n        },\r\n        save(){\r\n            this.$refs['ruleForm'].validate((valid)=>{\r\n                if(valid){\r\n                    request.post('/borrow/save',this.form).then(res =>{\r\n                        if(res.code === '200'){\r\n                            this.$notify.success('新增成功')\r\n                            this.$refs['ruleForm'].resetFields()\r\n                        }else{\r\n                            this.$notify.error(res.msg)\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            \r\n        },\r\n        selAncient(){\r\n            const ancient = this.ancients.find( v => v.noNumber === this.form.noNumber)\r\n            this.form.itemName = ancient.name\r\n            this.form.userAddress = ancient.address\r\n            this.form.itemNo = ancient.noNumber\r\n\r\n        },\r\n        selUser(){\r\n            const user = this.users.find( v => v.name === this.form.userName)\r\n           this.form.userPhone = user.phone\r\n\r\n                        \r\n        }\r\n          \r\n                    \r\n    }\r\n}\r\n\r\n\r\n</script>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=8e2b99ac\"\nimport script from \"./Add.vue?vue&type=script&lang=js\"\nexport * from \"./Add.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","_v","ref","attrs","form","rules","on","selAncient","model","value","noNumber","callback","$$v","$set","expression","_l","ancients","item","key","id","itemName","userAddress","selUser","userName","users","name","userPhone","$event","save","staticRenderFns","data","categories","phone","cascaderProps","label","children","checkStrictly","required","message","trigger","created","request","get","then","res","methods","handleChange","console","log","$refs","validate","valid","post","code","$notify","success","resetFields","error","msg","ancient","find","v","address","itemNo","user","component"],"sourceRoot":""}